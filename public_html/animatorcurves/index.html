<!doctype html>

<html>
    <head>
        <title>Animator Controlled Curves | Ryan Guy's Portfolio</title>
        <meta http-equiv="content-type" content="text/html;charset=utf-8" />

        <link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300'>
        <link rel='stylesheet' href="http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700&subset=latin,greek-ext">
        <link rel="stylesheet" href="../css/basic.css">
    </head>

    <body>
        <div class="header">
            <div class="header_name">
                <a class="header_name" href="../index.html">RLGUY</a>
            </div>

            <div class="header_links">
                <ul>
                    <li class="header_link"><a class="header_link" href="../index.html">Home</a> </li>
                    <li class="header_link"><a class="header_link" href="../portfolio/index.html">Portfolio</a></li> 
                    <li class="header_link"><a class="header_link" href="../projects/index.html">Projects</a></li> 
                    <!--<li class="header_link"><a class="header_link" href="../resume/index.html">Resume</a> </li>-->
                    <li class="header_link"><a class="header_link" href="mailto:ryan.l.guy@gmail.com">Contact</a></li>
                </ul>
            </div>
            <hr>

            <div class="icon_links">
                <ul>
                    <li><a class="icon_github" href="https://github.com/rlguy" target="_blank"></a></li>
                    <li><a class="icon_youtube" href="https://www.youtube.com/c/rlguyportfolio" target="_blank"></a></li>
                </ul>
            </div>
        </div>
        <br><br>

        <div class="center_column">
            <h1>Animator Controlled Curves</h1>

            <p>This program animates a space rocket and camera moving along animator 
            controlled curves in 3D space. The animator is able to interactively 
            control acceleration, velocity, and position along the path as well 
            as orientation. Written in C++ and uses the QT application framework.</p>

            <h2>Video</h2>

            <p>The following video shows the program animating in both the editing view
            and from the point of view of the camera.</p>

            <iframe 
                width="800" height="450" 
                src="http://www.youtube.com/embed/sENFl_YTu14" frameborder="0" allowfullscreen>
            </iframe><br><br>

            <h2>User Interface</h2>

            <p>The animator adds keyframe frame nodes to the curves by clicking the <b>Add 
            point to Rocket Spline</b> and <b>Add Point to Camera Spline</b> buttons. Nodes are 
            added to the end of the corresponding curve at a position near the last node 
            on the curve. 
            </p>

            <p>The animator is able to view the animation from either the view in the editing window 
            or from the view of the camera curve. Clicking the <b>Animate</b> button starts the 
            animation. Any mouse input or keyboard input during playback will stop the 
            animation and take the user back to the editing window.
            </p>

            <p>The velocity slider controls the maximum velocity of the rocket ship. The 
            acceleration slider controls how fast the rocket accelerates to its maximum 
            velocity.
            </p>

            <br>
            <div align="center"><img src="images/image00.png" alt="Editing interface" width="600"></div>
            <p align="center"><i>Figure 1. Editing Interface</i></p><br>

            <h2>3D Editing Interface</h2>

            <p>This program features the ability to edit orientation and preview the animation
            within the 3D perspective window.</p><br>

            <h3>Editing Orientation</h3>

            <p>Use the left mouse button to select and edit a keyframe node. Clicking the 
            right mouse button will deselect the node.</p>

            <p>To edit the position of a node, click and drag one the axis aligned handles 
            to move the node in the direction of the corresponding axis.</p>

            <p>To edit the rotation of a node, either click and drag across the screen to 
            rotate about an arbitrary axis or click and drag one of rotation axis' to rotate 
            about the corresponding axis.</p>

            <br>
            <div align="center"><img src="images/image02.png" alt="Editing interface"></div>
            <p align="center"><i>Figure 2. Editing Position and Rotation of a Node</i></p><br>

            <h3>Animation Preview</h3>

            <p>While no nodes are selected, hover the mouse over one of the curves to view 
            where the rocket ship and camera would be at that point in the animation. A 
            virtual screen displays where the rocket ship would appear on a screen from the 
            point of view from the animation camera.
            </p>

            <br><div align="center"><img src="images/image01.png" alt="Editing interface" width="600"></div>
            <p align="center"><i>Figure 3. Animation Preview</i></p><br>

            <h2>Controlling the Camera in the Editing View</h2>

            <p>The editing view camera is controlled using keyboard input:</p>

            <p>
            &nbsp;&nbsp;&nbsp;<b>W/S</b> - Move forward/backward in the direction of camera<br>
            &nbsp;&nbsp;&nbsp;<b>A/D</b> - Move camera left/right<br>
            &nbsp;&nbsp;&nbsp;<b>T/G</b> - Move up/down along camera's up vector<br><br>
            &nbsp;&nbsp;&nbsp;<b>Q/E</b> - Rotate camera left/right (about up vector)<br>
            &nbsp;&nbsp;&nbsp;<b>R/F</b> - Rotate camera down/up (about right side vector)<br>
            &nbsp;&nbsp;&nbsp;<b>Z/X</b> - Roll camera left/right about its direction vector<br>
            </p>
            <br>

            <h2>Algorithms and Data Structures</h2>

            <p>Catmull-Rom Splines are used to interpolate position between keyframe nodes. 
            The splines are parameterized by arc length along the curve.</p>

            <p>Quaternions are used to interpolate between keyframe rotations using the 
            spherical linear interpolation method (SLERP).</p>

            <p>The arcball algorithm is used to rotate a node through the 3D perspective 
            window.</p>

            <h2>Description of Important Files</h2>

            <table class="borders">
                <tr>
                    <th class="borders" width="200px"><h3>Filename</h3></th>
                    <th class="borders" width="600px"><h3>Description</h3></th>
                </tr>
                <tr>
                    <td class="borders"><b>quaternion.cpp</b></td>
                    <td class="borders">Implements the Quaternion data structure</td>
                </tr>
                <tr>
                    <td class="borders"><b>catmullromspline.cpp</b></td>
                    <td class="borders">Data structure for interpolating position along a curve controlled by 
                                        keyframe positions</td>
                </tr>
                <tr>
                    <td class="borders"><b>camera3d.cpp</b></td>
                    <td class="borders">Interface to control perspective and movement in the 3D scene</td>
                </tr>
                <tr>
                    <td class="borders"><b>arcball.cpp</b></td>
                    <td class="borders">Implements arcball method of rotation from the 3D perspective window</td>
                </tr>
                <tr>
                    <td class="borders"><b>translationnode.cpp</b></td>
                    <td class="borders">Interface for controlling the position of a keyframe node from the 3D 
                                        perspective window</td>
                </tr>
                <tr>
                    <td class="borders"><b>splinenode.cpp</b></td>
                    <td class="borders">Combines ArcBall and TranslationNode to implement an interface for 
                                        controlling and storing both translation and rotation of a keyframe node.</td>
                </tr>
                <tr>
                    <td class="borders"><b>splinenodeset.cpp</b></td>
                    <td class="borders">Manages set of SplineNode keyframe nodes for a curve.</td>
                </tr>
                <tr>
                    <td class="borders"><b>orientationcurve.cpp</b></td>
                    <td class="borders">Uses a SplineNodeSet along with a CatmullRomSpline to generate data to 
                                        query the position and rotation of a keyframe node at a point on the curve.</td>
                </tr>
                <tr>
                    <td class="borders"><b>virtualcamera.cpp</b></td>
                    <td class="borders">Draws a virtual screen in the editing window to show the user where an 
                                        object would be located in the animation view.</td>
                </tr>
                <tr>
                    <td class="borders"><b>spaceship.cpp</b></td>
                    <td class="borders">Data for drawing the space rocket model</td>
                </tr>
                <tr>
                    <td class="borders"><b>cameramodel.cpp</b></td>
                    <td class="borders">Data for drawing the camera model</td>
                </tr>
                <tr>
                    <td class="borders"><b>utils.cpp</b></td>
                    <td class="borders">Contains miscellaneous shared functions</td>
                </tr>
            </table>
            <br><br>

            <h2>Download</h2>

            <p><b>Download for QT 5.3.0:</b> 
            <a href="downloads/animator_controlled_curves.zip" target="_blank">
                Animator Controlled Curves Program
            </a></p>

            <b>Source: </b>
            <a href="https://github.com/rlguy/animatorcontrolledcurves">
                https://github.com/rlguy/animatorcontrolledcurves
            </a>

        </div>

        <div class="blank"></div>

        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-73726729-1', 'auto');
            ga('send', 'pageview');
        </script>

    </body>
</html>
